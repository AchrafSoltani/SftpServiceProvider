<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Sftpserviceprovider by AchrafSoltani</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Sftpserviceprovider</h1>
        <p></p>

        <p class="view"><a href="https://github.com/AchrafSoltani/SftpServiceProvider">View the Project on GitHub <small>AchrafSoltani/SftpServiceProvider</small></a></p>


        <ul>
          <li><a href="https://github.com/AchrafSoltani/SftpServiceProvider/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/AchrafSoltani/SftpServiceProvider/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/AchrafSoltani/SftpServiceProvider">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="sftpserviceprovider" class="anchor" href="#sftpserviceprovider" aria-hidden="true"><span class="octicon octicon-link"></span></a>SftpServiceProvider</h1>

<p>A Simple SFTP wrapper for Silex</p>

<p><a href="https://packagist.org/packages/achrafsoltani/sftp-service-provider"><img src="https://poser.pugx.org/achrafsoltani/sftp-service-provider/v/stable" alt="Latest Stable Version"></a>
<a href="https://packagist.org/packages/achrafsoltani/sftp-service-provider"><img src="https://poser.pugx.org/achrafsoltani/sftp-service-provider/downloads" alt="Total Downloads"></a>
<a href="https://packagist.org/packages/achrafsoltani/sftp-service-provider"><img src="https://poser.pugx.org/achrafsoltani/sftp-service-provider/license" alt="License"></a></p>

<h2>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features</h2>

<ul>
<li>Easy setup.</li>
<li>Files : List, Upload, Download, Rename, Delete.</li>
<li>Folders: List, Mkdir, Rename, Delete.</li>
</ul>

<h2>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requirements</h2>

<ul>
<li>PHP 5.3+</li>
<li>ext-ssh2</li>
<li>monolog/monolog (through the MonologServiceProvider)</li>
</ul>

<h2>
<a id="dependencies" class="anchor" href="#dependencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dependencies</h2>

<div class="highlight highlight-sh"><pre>// Installing php-ssh2
$ sudo apt-get install libssh2-php
// checking <span class="pl-k">if</span> all is good
$ php -m <span class="pl-k">|</span>grep ssh2 </pre></div>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<div class="highlight highlight-sh"><pre>$ composer require achrafsoltani/sftp-service-provider</pre></div>

<h2>
<a id="setup" class="anchor" href="#setup" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setup</h2>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-k">require_once</span> <span class="pl-c1">__DIR__</span><span class="pl-k">.</span><span class="pl-s"><span class="pl-pds">'</span>/vendor/autoload.php<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Silex\Application</span>;</span>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">AchrafSoltani\Provider\SftpServiceProvider</span>;</span>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Silex\Provider\MonologServiceProvider</span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-smi">$app</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Application</span>();</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">// Monolog</span></span>
<span class="pl-s1"><span class="pl-smi">$app</span><span class="pl-k">-&gt;</span>register(<span class="pl-k">new</span> <span class="pl-c1">Silex\Provider\</span><span class="pl-c1">MonologServiceProvider</span>(), <span class="pl-c1">array</span>(</span>
<span class="pl-s1">    <span class="pl-s"><span class="pl-pds">'</span>monolog.logfile<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-c1">__DIR__</span><span class="pl-k">.</span><span class="pl-s"><span class="pl-pds">'</span>/logs/development.log<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">));</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">// SFTP</span></span>
<span class="pl-s1"><span class="pl-smi">$app</span><span class="pl-k">-&gt;</span>register(<span class="pl-k">new</span> <span class="pl-c1">SftpServiceProvider</span>(), <span class="pl-c1">array</span>(</span>
<span class="pl-s1">    <span class="pl-s"><span class="pl-pds">'</span>sftp.options<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-c1">array</span>(</span>
<span class="pl-s1">        <span class="pl-s"><span class="pl-pds">'</span>hostname<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>domain.tld<span class="pl-pds">'</span></span>, <span class="pl-c">// or IP address</span></span>
<span class="pl-s1">        <span class="pl-s"><span class="pl-pds">'</span>username<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>root<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">        <span class="pl-s"><span class="pl-pds">'</span>password<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>your_ssh_password<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">        <span class="pl-s"><span class="pl-pds">'</span>port<span class="pl-pds">'</span></span>     <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>22<span class="pl-pds">'</span></span> <span class="pl-c">// optional</span></span>
<span class="pl-s1">    )</span>
<span class="pl-s1">));</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">// Usage</span></span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-smi">$app</span><span class="pl-k">-&gt;</span>run();</span></pre></div>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<ul>
<li>Example 1 : Listing files in a directory</li>
</ul>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-smi">$dirs</span> <span class="pl-k">=</span> <span class="pl-smi">$app</span>[<span class="pl-s"><span class="pl-pds">'</span>sftp<span class="pl-pds">'</span></span>]<span class="pl-k">-&gt;</span>list_files(<span class="pl-s"><span class="pl-pds">'</span>/home/user/<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1"><span class="pl-c1">var_dump</span>(<span class="pl-smi">$dirs</span>);</span></pre></div>

<ul>
<li>Example 2 : Downloading a File</li>
</ul>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-smi">$app</span>[<span class="pl-s"><span class="pl-pds">'</span>sftp<span class="pl-pds">'</span></span>]<span class="pl-k">-&gt;</span>download(<span class="pl-s"><span class="pl-pds">'</span>/home/user/source_file.ext<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>/home/user/path/to/destination/downloaded.ext<span class="pl-pds">'</span></span>);</span></pre></div>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/AchrafSoltani">AchrafSoltani</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
